"use strict";(self.webpackChunkwebsite_docs=self.webpackChunkwebsite_docs||[]).push([[5268],{3627:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>f,frontMatter:()=>i,metadata:()=>s,toc:()=>l});var r=t(4848),o=t(8453);const i={id:"network-config-kubernetes",title:"Using network config in the kubernetes cluster"},c=void 0,s={id:"user-guide/network-config-kubernetes",title:"Using network config in the kubernetes cluster",description:"Network config as secrets",source:"@site/docs/user-guide/using-networkconfig.mdx",sourceDirName:"user-guide",slug:"/user-guide/network-config-kubernetes",permalink:"/bevel-operator-fabric/docs/user-guide/network-config-kubernetes",draft:!1,unlisted:!1,editUrl:"https://github.com/hyperledger-bevel/bevel-operator-fabric/edit/master/website/docs/user-guide/using-networkconfig.mdx",tags:[],version:"current",frontMatter:{id:"network-config-kubernetes",title:"Using network config in the kubernetes cluster"},sidebar:"mainSidebar",previous:{title:"Get a network config",permalink:"/bevel-operator-fabric/docs/user-guide/network-config"},next:{title:"Create channel",permalink:"/bevel-operator-fabric/docs/user-guide/create-channel"}},a={},l=[{value:"Network config as secrets",id:"network-config-as-secrets",level:2},{value:"Create network config for all organizations",id:"create-network-config-for-all-organizations",level:3},{value:"Refresh network config",id:"refresh-network-config",level:3},{value:"Create network config for specific organizations",id:"create-network-config-for-specific-organizations",level:2},{value:"Update network config",id:"update-network-config",level:2},{value:"Delete network config",id:"delete-network-config",level:3}];function d(e){const n={code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"network-config-as-secrets",children:"Network config as secrets"}),"\n",(0,r.jsx)(n.p,{children:"Network Config is a CRD that lets you define the organizations that you want to use in your client application."}),"\n",(0,r.jsx)(n.h3,{id:"create-network-config-for-all-organizations",children:"Create network config for all organizations"}),"\n",(0,r.jsx)(n.p,{children:"To create a network config for all organizations, you can use the following command:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl hlf networkconfig create --name=test-nc -n=default --secret=org1-nc\n"})}),"\n",(0,r.jsxs)(n.p,{children:["This command will create a secret ",(0,r.jsx)(n.code,{children:"org1-nc"})," in the namespace ",(0,r.jsx)(n.code,{children:"default"})," with all the peers, orderer nodes and CAs that are in the current cluster."]}),"\n",(0,r.jsx)(n.h3,{id:"refresh-network-config",children:"Refresh network config"}),"\n",(0,r.jsx)(n.p,{children:"If you add a new peer/orderer/CA to the cluster, you can use the following command to refresh the contents network config:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl hlf networkconfig refresh --name=test-nc -n=default\n"})}),"\n",(0,r.jsx)(n.p,{children:"The secret contents will be updated to include the new peer/orderer/CA."}),"\n",(0,r.jsx)(n.h2,{id:"create-network-config-for-specific-organizations",children:"Create network config for specific organizations"}),"\n",(0,r.jsx)(n.p,{children:"If you want to create a network config for specific organizations, you can use the following command:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl hlf networkconfig create --name=test-nc -n=default -o Org1MSP -o OrdererMSP --secret=org1-nc\n"})}),"\n",(0,r.jsx)(n.p,{children:"The secret will contain only the peers and orderer nodes of the specified organizations."}),"\n",(0,r.jsx)(n.h2,{id:"update-network-config",children:"Update network config"}),"\n",(0,r.jsx)(n.p,{children:"If you want a different configuration for the same network config, you can use the following command:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl hlf networkconfig update --name=test-nc -n=default -o Org1MSP -o Org2MSP -o OrdererMSP --secret=org1-nc\n"})}),"\n",(0,r.jsx)(n.p,{children:"The secret contents will be updated to include the new peer/orderer/CA, or create a new secret with the name specified."}),"\n",(0,r.jsx)(n.h3,{id:"delete-network-config",children:"Delete network config"}),"\n",(0,r.jsx)(n.p,{children:"If you no longer need a network config, you can use the following command to delete it:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl hlf networkconfig delete --name=test-nc -n=default\n"})})]})}function f(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>s});var r=t(6540);const o={},i=r.createContext(o);function c(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:c(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);