"use strict";(self.webpackChunkwebsite_docs=self.webpackChunkwebsite_docs||[]).push([[9111],{9493:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>i,default:()=>u,frontMatter:()=>c,metadata:()=>s,toc:()=>d});var o=n(4848),r=n(8453);const c={id:"state-db",title:"LevelDB / CouchDB"},i=void 0,s={id:"operator-guide/state-db",title:"LevelDB / CouchDB",description:"Once you set the state database of the peer, you cannot change it since the structure is different between using LevelDB and CouchDB you can find more information in the official HLF docs",source:"@site/docs/operator-guide/state-db.md",sourceDirName:"operator-guide",slug:"/operator-guide/state-db",permalink:"/bevel-operator-fabric/docs/operator-guide/state-db",draft:!1,unlisted:!1,editUrl:"https://github.com/hyperledger-bevel/bevel-operator-fabric/edit/master/website/docs/operator-guide/state-db.md",tags:[],version:"current",frontMatter:{id:"state-db",title:"LevelDB / CouchDB"},sidebar:"mainSidebar",previous:{title:"Getting started with Hyperledger Fabric 3.0",permalink:"/bevel-operator-fabric/docs/intro/getting-started-3-0"},next:{title:"Monitoring",permalink:"/bevel-operator-fabric/docs/operator-guide/monitoring"}},a={},d=[{value:"Configuring LevelDB",id:"configuring-leveldb",level:2},{value:"Configuring CouchDB",id:"configuring-couchdb",level:2}];function l(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.admonition,{type:"caution",children:(0,o.jsxs)(t.p,{children:["Once you set the state database of the peer, you cannot change it since the structure is different between using ",(0,o.jsx)(t.strong,{children:"LevelDB"})," and ",(0,o.jsx)(t.strong,{children:"CouchDB"})," you can find more information in ",(0,o.jsx)(t.a,{href:"https://hyperledger-fabric.readthedocs.io/en/release-2.3/couchdb_as_state_database.html",children:"the official HLF docs"})]})}),"\n",(0,o.jsx)(t.h2,{id:"configuring-leveldb",children:"Configuring LevelDB"}),"\n",(0,o.jsx)(t.p,{children:"In order to configure LevelDB, you need to set the following property in the CRD(Custom resource definition) of the peer:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-yaml",children:"stateDb: leveldb\n"})}),"\n",(0,o.jsx)(t.h2,{id:"configuring-couchdb",children:"Configuring CouchDB"}),"\n",(0,o.jsxs)(t.p,{children:["You can configure the world state to be CouchDB by setting the property ",(0,o.jsx)(t.code,{children:"stateDb"})," in the CRD of the peer:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-yaml",children:"stateDb: couchdb\n"})}),"\n",(0,o.jsx)(t.p,{children:"And then you can configure also the username and password:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-yaml",children:"couchdb:\n  externalCouchDB: null\n  password: couchdb\n  user: couchdb\n"})}),"\n",(0,o.jsxs)(t.p,{children:["If you want to configure a custom image for CouchDB, you can set the ",(0,o.jsx)(t.code,{children:"image"}),", ",(0,o.jsx)(t.code,{children:"tag"}),", and ",(0,o.jsx)(t.code,{children:"pullPolicy"})," properties under the ",(0,o.jsx)(t.code,{children:"couchdb"})," property:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-yaml",children:"couchdb:\n    image: couchdb\n    pullPolicy: IfNotPresent\n    tag: 3.1.1\n    user: couchdb\n    password: couchdb\n"})}),"\n",(0,o.jsxs)(t.p,{children:["If you wish to use an external CouchDB instance, ",(0,o.jsx)(t.a,{href:"../couchdb/external-couchdb",children:"check this page"})]})]})}function u(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>s});var o=n(6540);const r={},c=o.createContext(r);function i(e){const t=o.useContext(c);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),o.createElement(c.Provider,{value:t},e.children)}}}]);